@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
@import '../styles/instagram-overlays.css';

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Inter', system-ui, sans-serif;
  }
}

/* Streaming Studio Responsive Optimizations */
@layer utilities {
  .studio-layout {
    /* Ensure consistent zoom behavior */
    min-width: 1200px;
    max-width: 100vw;
  }

  .studio-column {
    /* Prevent column collapse at high zoom levels */
    min-width: 250px;
    flex-shrink: 0;
  }

  .studio-center {
    /* Ensure center column takes available space */
    min-width: 400px;
    flex: 1;
  }

  /* Optimizations for different zoom levels */
  @media (max-width: 1400px) {
    .studio-column {
      min-width: 220px;
    }
  }

  @media (max-width: 1200px) {
    .studio-column {
      min-width: 200px;
    }
  }

  /* High DPI / High zoom adjustments */
  @media (-webkit-min-device-pixel-ratio: 1.25), (min-resolution: 120dpi) {
    .studio-layout {
      zoom: 0.9;
    }
  }

  /* ========================================
     MOBILE VIEWER OPTIMIZATIONS
     Instagram Live Style
     ======================================== */

  /* Floating Comments Fade Effect */
  .floating-comments-fade {
    -webkit-mask-image: linear-gradient(
      to bottom,
      transparent 0%,
      rgba(0, 0, 0, 0.3) 15%,
      rgba(0, 0, 0, 0.7) 30%,
      black 50%
    );
    mask-image: linear-gradient(
      to bottom,
      transparent 0%,
      rgba(0, 0, 0, 0.3) 15%,
      rgba(0, 0, 0, 0.7) 30%,
      black 50%
    );
  }

  /* iOS Safe Area Insets */
  .pt-safe {
    padding-top: env(safe-area-inset-top);
  }

  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .pl-safe {
    padding-left: env(safe-area-inset-left);
  }

  .pr-safe {
    padding-right: env(safe-area-inset-right);
  }

  .mt-safe {
    margin-top: env(safe-area-inset-top);
  }

  .mb-safe {
    margin-bottom: env(safe-area-inset-bottom);
  }

  /* Portrait Mode Optimizations */
  @media (orientation: portrait) {
    .floating-comments {
      max-height: 40vh;
      bottom: 80px;
    }

    .instagram-bar-portrait {
      height: 60px;
      padding: 0.75rem 1rem;
    }
  }

  /* Landscape Mode Optimizations */
  @media (orientation: landscape) {
    .floating-comments {
      max-height: 25vh;
      bottom: 64px;
      max-width: 60vw;
    }

    .instagram-bar-landscape {
      height: 48px;
      padding: 0.5rem 1rem;
    }
  }

  /* Glass Morphism Effects */
  .glass-effect {
    background: rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(40px);
    -webkit-backdrop-filter: blur(40px);
  }

  .glass-effect-light {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(40px);
    -webkit-backdrop-filter: blur(40px);
  }
}